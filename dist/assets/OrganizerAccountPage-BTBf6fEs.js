import{r as v,m as S,o as L,G as g,y as M,c as i,a as e,b as c,e as o,w as p,d as z,t as l,F as f,g as w,K as A,f as k,s as V,h as r}from"./index-CanbGPVk.js";import{d as D}from"./DataService-z2Ih9ngB.js";import{R as N,M as F}from"./RoleSwitcher-BNbkLzKh.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $={class:"container py-4 py-lg-5"},B={class:"row"},E={class:"col-12"},O={class:"d-flex justify-content-between align-items-center mb-4"},T={class:"d-flex gap-2"},Y={class:"card mb-4"},j={class:"card-body"},G={class:"row align-items-center"},I={class:"col-md-4 text-md-end"},J={class:"card mb-4"},K={class:"card-body"},q={key:0,class:"text-center py-5"},H={key:1,class:"alert alert-danger",role:"alert"},Q={key:2,class:"text-center py-5"},W={key:3,class:"row g-4"},X={class:"card h-100 border-0 shadow-sm"},Z={class:"card-header bg-light border-0"},ee={class:"d-flex justify-content-between align-items-start"},te={class:"card-title mb-1"},se={class:"text-muted"},ae={class:"card-body"},ie={class:"card-text text-muted small mb-3"},le={class:"mb-3"},re={class:"d-flex align-items-center mb-2"},oe={class:"text-muted"},ne={class:"d-flex align-items-center mb-2"},de={class:"text-muted"},ce={class:"d-flex align-items-center"},me={class:"text-muted"},ue={class:"mb-3"},be={key:0,class:"text-muted"},ve={class:"card-footer bg-transparent border-0"},ge={class:"d-flex gap-2"},pe=["onClick"],ye={class:"row g-4"},he={key:0,class:"col-md-3"},xe={class:"card h-100 border-0 bg-primary text-white"},_e={class:"card-body text-center"},fe={__name:"OrganizerAccountPage",setup(we){const h=V(),n=v({user:null,role:null,availableRoles:[]}),P=S(()=>(n.value.availableRoles||[]).includes("member")),u=v([]),y=v(!1),b=v(null);async function x(){if(n.value.user?.email)try{y.value=!0,b.value=null;const a=await D.getPrograms();u.value=a.filter(t=>t.organizer_email===n.value.user.email),console.log(`Loaded ${u.value.length} programs for organizer`)}catch(a){console.error("Error loading organizer programs:",a),b.value="Failed to load your programs. Please try again."}finally{y.value=!1}}L(async()=>{const a=await g.getCurrentUser();n.value=a,a.user&&await x()});const _=g.onAuthStateChange(async(a,t)=>{if(a){const d=await g.getCurrentUser();n.value=d}else n.value={user:null,role:null,availableRoles:[]}});M(()=>{_&&_()});function C(a){h.push({name:"program",params:{id:a.id}})}async function R(){try{await g.logout(),h.push({name:"home"})}catch(a){console.error("Logout error:",a)}}return(a,t)=>{const d=z("RouterLink");return r(),i("div",$,[e("div",B,[e("div",E,[e("div",O,[t[1]||(t[1]=e("div",null,[e("h1",{class:"h3 mb-1"},"Organizer Dashboard"),e("p",{class:"text-muted mb-0"},"Manage and create sports programs for your community")],-1)),e("div",T,[c(N),e("button",{onClick:R,class:"btn btn-outline-secondary"},[...t[0]||(t[0]=[e("i",{class:"bi bi-box-arrow-right me-2","aria-hidden":"true"},null,-1),o(" Logout ",-1)])])])]),c(F),e("div",Y,[t[4]||(t[4]=e("div",{class:"card-header bg-success text-white"},[e("h5",{class:"card-title mb-0"},[e("i",{class:"bi bi-plus-circle me-2","aria-hidden":"true"}),o(" Program Management ")])],-1)),e("div",j,[e("div",G,[t[3]||(t[3]=e("div",{class:"col-md-8"},[e("h6",{class:"mb-2"},"Ready to create a new program?"),e("p",{class:"text-muted mb-md-0"}," Launch new sports programs and events to engage your community. Set schedules, manage registrations, and track participation. ")],-1)),e("div",I,[c(d,{to:{name:"launch-program"},class:"btn btn-success btn-lg"},{default:p(()=>[...t[2]||(t[2]=[e("i",{class:"bi bi-rocket-takeoff me-2","aria-hidden":"true"},null,-1),o(" Launch Programs ",-1)])]),_:1})])])])]),e("div",J,[t[18]||(t[18]=e("div",{class:"card-header bg-light"},[e("h5",{class:"card-title mb-0"},[e("i",{class:"bi bi-list-check me-2","aria-hidden":"true"}),o(" My Programs ")])],-1)),e("div",K,[y.value?(r(),i("div",q,[...t[5]||(t[5]=[e("div",{class:"spinner-border text-primary mb-3",role:"status"},[e("span",{class:"visually-hidden"},"Loading programs...")],-1),e("p",{class:"text-muted"},"Loading your programs...",-1)])])):b.value?(r(),i("div",H,[t[6]||(t[6]=e("i",{class:"bi bi-exclamation-triangle me-2"},null,-1)),o(" "+l(b.value)+" ",1),e("button",{onClick:x,class:"btn btn-outline-danger btn-sm ms-2"}," Try Again ")])):u.value.length===0?(r(),i("div",Q,[t[8]||(t[8]=e("i",{class:"bi bi-clipboard-data display-4 text-muted mb-3","aria-hidden":"true"},null,-1)),t[9]||(t[9]=e("h6",{class:"text-muted mb-3"},"No Programs Created Yet",-1)),t[10]||(t[10]=e("p",{class:"text-muted mb-4"}," You haven't created any programs yet. Start by launching your first program! ",-1)),c(d,{to:{name:"launch-program"},class:"btn btn-outline-success"},{default:p(()=>[...t[7]||(t[7]=[e("i",{class:"bi bi-plus-circle me-2","aria-hidden":"true"},null,-1),o(" Create Your First Program ",-1)])]),_:1})])):(r(),i("div",W,[(r(!0),i(f,null,w(u.value,s=>(r(),i("div",{key:s.id,class:"col-md-6 col-lg-4"},[e("div",X,[e("div",Z,[e("div",ee,[e("div",null,[e("h6",te,l(s.title),1),e("small",se,l(s.sport),1)]),t[11]||(t[11]=e("span",{class:"badge bg-success"},"Active",-1))])]),e("div",ae,[e("p",ie,l(s.description.length>100?s.description.substring(0,100)+"...":s.description),1),e("div",le,[e("div",re,[t[12]||(t[12]=e("i",{class:"bi bi-geo-alt text-muted me-2"},null,-1)),e("small",oe,l(s.venue?.name||"Venue TBD"),1)]),e("div",ne,[t[13]||(t[13]=e("i",{class:"bi bi-people text-muted me-2"},null,-1)),e("small",de,"Max "+l(s.maxParticipants)+" participants",1)]),e("div",ce,[t[14]||(t[14]=e("i",{class:"bi bi-currency-dollar text-muted me-2"},null,-1)),e("small",me,l(s.cost===0?"Free":`$${s.cost} ${s.costUnit}`),1)])]),e("div",ue,[t[15]||(t[15]=e("small",{class:"text-muted d-block"},"Schedule:",-1)),(r(!0),i(f,null,w(s.schedule.slice(0,2),m=>(r(),i("div",{key:m.day,class:"small text-muted"},l(m.day)+"s: "+l(m.start)+" - "+l(m.end),1))),128)),s.schedule.length>2?(r(),i("small",be," +"+l(s.schedule.length-2)+" more days ",1)):k("",!0)])]),e("div",ve,[e("div",ge,[c(d,{to:{name:"edit-program",params:{id:s.id}},class:"btn btn-primary btn-sm flex-fill"},{default:p(()=>[...t[16]||(t[16]=[e("i",{class:"bi bi-pencil me-1"},null,-1),o(" Edit ",-1)])]),_:2},1032,["to"]),e("button",{onClick:m=>C(s),class:"btn btn-outline-secondary btn-sm"},[...t[17]||(t[17]=[e("i",{class:"bi bi-eye"},null,-1)])],8,pe)])])])]))),128))]))])]),e("div",ye,[t[23]||(t[23]=A('<div class="col-md-3" data-v-3cae0e5e><div class="card h-100 border-0 bg-light" data-v-3cae0e5e><div class="card-body text-center" data-v-3cae0e5e><i class="bi bi-people text-primary mb-3" style="font-size:2rem;" aria-hidden="true" data-v-3cae0e5e></i><h6 class="card-title" data-v-3cae0e5e>Participants</h6><p class="card-text text-muted small" data-v-3cae0e5e>Manage registrations and participant communications</p><button class="btn btn-outline-primary btn-sm" disabled data-v-3cae0e5e> Coming Soon </button></div></div></div><div class="col-md-3" data-v-3cae0e5e><div class="card h-100 border-0 bg-light" data-v-3cae0e5e><div class="card-body text-center" data-v-3cae0e5e><i class="bi bi-bar-chart text-primary mb-3" style="font-size:2rem;" aria-hidden="true" data-v-3cae0e5e></i><h6 class="card-title" data-v-3cae0e5e>Analytics</h6><p class="card-text text-muted small" data-v-3cae0e5e>View program performance and engagement metrics</p><button class="btn btn-outline-primary btn-sm" disabled data-v-3cae0e5e> Coming Soon </button></div></div></div><div class="col-md-3" data-v-3cae0e5e><div class="card h-100 border-0 bg-light" data-v-3cae0e5e><div class="card-body text-center" data-v-3cae0e5e><i class="bi bi-calendar-week text-primary mb-3" style="font-size:2rem;" aria-hidden="true" data-v-3cae0e5e></i><h6 class="card-title" data-v-3cae0e5e>Schedule</h6><p class="card-text text-muted small" data-v-3cae0e5e>Manage program schedules and venue bookings</p><button class="btn btn-outline-primary btn-sm" disabled data-v-3cae0e5e> Coming Soon </button></div></div></div>',3)),P.value?k("",!0):(r(),i("div",he,[e("div",xe,[e("div",_e,[t[20]||(t[20]=e("i",{class:"bi bi-person text-white mb-3",style:{"font-size":"2rem"},"aria-hidden":"true"},null,-1)),t[21]||(t[21]=e("h6",{class:"card-title"},"Join Programs",-1)),t[22]||(t[22]=e("p",{class:"card-text small"},"Participate in community sports programs",-1)),c(d,{to:{name:"register"},class:"btn btn-light btn-sm"},{default:p(()=>[...t[19]||(t[19]=[o(" Add Member Role ",-1)])]),_:1})])])]))])])])])}}},Se=U(fe,[["__scopeId","data-v-3cae0e5e"]]);export{Se as default};
