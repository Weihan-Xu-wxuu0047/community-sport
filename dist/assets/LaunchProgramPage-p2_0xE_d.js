import{i as W,r as f,m as ae,o as _e,G as oe,y as Ae,p as ne,c as l,a as t,f as m,b as Ve,w as Ee,d as Be,e as d,t as r,z as Fe,k as p,v as x,n as P,l as E,F as w,g as $,x as le,P as L,K as Ge,q as ie,s as Re,h as i}from"./index-CanbGPVk.js";import{d as re}from"./DataService-z2Ih9ngB.js";import{m as _}from"./mapbox-gl-CQxWPcX7.js";import{_ as Ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ze={class:"container py-4 py-lg-5"},He={class:"row justify-content-center"},Le={class:"col-12 col-xl-10"},je={class:"d-flex align-items-center mb-4"},Oe={key:0,class:"alert alert-success",role:"alert"},We={key:1,class:"alert alert-danger",role:"alert"},Ye={class:"row g-4"},Je={class:"col-md-8"},Ke={class:"card"},Qe={class:"card-body"},Ze={class:"mb-3"},Xe={key:0,class:"invalid-feedback"},et={class:"mb-3"},tt=["value"],st={key:0,class:"invalid-feedback"},at={class:"mb-3"},ot={class:"row g-2"},nt={class:"form-check"},lt=["id","value"],it=["for"],rt={key:0,class:"text-danger small mt-1"},dt={class:"mb-3"},ut={key:0,class:"invalid-feedback"},ct={class:"form-text"},mt={class:"row g-3 mb-3"},vt={class:"col-md-6"},pt={class:"input-group"},bt={key:0,class:"invalid-feedback"},ft={class:"col-md-6"},gt=["value"],yt={key:0,class:"invalid-feedback"},ht={class:"mb-3"},kt={key:0,class:"invalid-feedback"},xt={key:1,class:"mt-3"},Pt={class:"row g-2"},wt={class:"position-relative"},$t=["src","alt"],Tt=["onClick","aria-label"],Ut={class:"small text-muted mt-1 text-truncate"},Ct={key:2,class:"mt-2"},St={key:0,class:"text-info"},qt={key:1,class:"text-success"},Dt={key:2,class:"text-danger"},It={class:"card mt-4"},Mt={class:"card-body"},_t={class:"mb-3"},At={class:"row g-2"},Vt={class:"form-check"},Et=["id","value"],Bt=["for"],Ft={class:"mb-3"},Gt={class:"input-group mb-2"},Rt=["disabled"],Nt={class:"d-flex flex-wrap gap-2"},zt=["onClick","aria-label"],Ht={class:"mb-3"},Lt={class:"form-check mb-2"},jt={class:"input-group mb-2"},Ot=["disabled"],Wt={class:"d-flex flex-wrap gap-2"},Yt=["onClick","aria-label"],Jt={class:"card mt-4"},Kt={class:"card-body"},Qt={class:"mb-3"},Zt={key:0,class:"invalid-feedback"},Xt={class:"mb-3"},es={class:"position-relative"},ts={class:"input-group"},ss=["disabled"],as={key:0,class:"position-absolute top-50 end-0 translate-middle-y me-5"},os={key:1,class:"position-absolute w-100 bg-white border rounded-bottom shadow-lg",style:{top:"100%","z-index":"1000","max-height":"300px","overflow-y":"auto"}},ns=["onClick"],ls={class:"fw-medium"},is={key:0,class:"mb-3"},rs={class:"alert alert-info d-flex align-items-center"},ds={class:"flex-grow-1"},us={class:"mb-3"},cs={class:"position-relative"},ms={key:0,class:"position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-white bg-opacity-75 rounded",style:{"z-index":"1000"}},vs={class:"row g-3"},ps={class:"col-12"},bs={key:0,class:"invalid-feedback"},fs={class:"col-md-8"},gs={key:0,class:"invalid-feedback"},ys={class:"col-md-4"},hs={key:0,class:"invalid-feedback"},ks={key:1,class:"mt-3"},xs={class:"text-muted"},Ps={class:"card mt-4"},ws={class:"card-body"},$s={class:"mb-3"},Ts={key:0,class:"invalid-feedback"},Us={class:"mb-3"},Cs={key:0,class:"invalid-feedback"},Ss={class:"col-md-4"},qs={class:"card sticky-top",style:{top:"2rem"}},Ds={class:"card-body"},Is={class:"mb-3"},Ms={class:"d-flex flex-wrap gap-2"},_s=["id","value"],As=["for"],Vs={key:0,class:"text-danger small mt-1"},Es={class:"mb-3"},Bs={class:"row g-2"},Fs={class:"col-7"},Gs=["value"],Rs={class:"col-5"},Ns=["value"],zs={key:0,class:"text-danger small mt-1"},Hs={class:"mb-3"},Ls={class:"row g-2"},js={class:"col-7"},Os=["value"],Ws={class:"col-5"},Ys=["value"],Js={key:0,class:"text-danger small mt-1"},Ks={class:"mb-3"},Qs=["min"],Zs={key:0,class:"invalid-feedback"},Xs={class:"mb-4"},ea={key:0,class:"invalid-feedback"},ta=["disabled"],sa={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},aa={key:1,class:"bi bi-rocket-takeoff me-2","aria-hidden":"true"},oa={__name:"LaunchProgramPage",setup(na){const de=Re(),a=W({title:"",sport:"",organizer_email:"",ageGroups:[],description:"",cost:0,costUnit:"per-session",accessibility:[],inclusivityTags:[],schedule:{days:[],startHour:"",startMinute:"",endHour:"",endMinute:"",startDate:""},venue:{name:"",address:"",suburb:"",postcode:"",lat:null,lng:null},equipment:{provided:!1,required:[]},contact:{email:"",phone:""},images:[],maxParticipants:20}),u=W({title:!1,sport:!1,ageGroups:!1,description:!1,cost:!1,costUnit:!1,scheduleDays:!1,startTime:!1,endTime:!1,startDate:!1,venueName:!1,venueAddress:!1,venueSuburb:!1,venuePostcode:!1,contactEmail:!1,contactPhone:!1,maxParticipants:!1,images:!1}),o=W({title:"",sport:"",ageGroups:"",description:"",cost:"",costUnit:"",scheduleDays:"",startTime:"",endTime:"",startDate:"",venueName:"",venueAddress:"",venueSuburb:"",venuePostcode:"",contactEmail:"",contactPhone:"",maxParticipants:"",images:""}),B=f(!1),A=f(""),D=f(""),F=f(""),G=f(""),H=f([]),h=f(null),T=f([]),I=f(null),j=f(null),U=f(null),C=f(""),S=f([]),M=f(!1),V=f(!1),q=f(null),R=f(!1),Y=f(null),J=f(null),K=f(null),Q=f(null),ue=["Football","Basketball","Tennis","Swimming","Running","Cycling","Yoga","Pilates","Boxing","Martial Arts","Dance","Volleyball","Badminton","Table Tennis","Cricket","Rugby","Netball","Golf","Rock Climbing","Walking Football","Wheelchair Basketball","Other"],ce=["5-8","8-12","12-17","18-40","40-60","60+"],me=["per-session","per-class","per-term","per-month","free"],ve=["Wheelchair Accessible","Hearing Loop Available","Sign Language Support","Visual Impairment Support","Cognitive Support Available","Accessible Parking"],pe=[{value:"monday",label:"Mon"},{value:"tuesday",label:"Tue"},{value:"wednesday",label:"Wed"},{value:"thursday",label:"Thu"},{value:"friday",label:"Fri"},{value:"saturday",label:"Sat"},{value:"sunday",label:"Sun"}],Z=Array.from({length:24},(n,e)=>e.toString().padStart(2,"0")),X=["00","15","30","45"],be=ae(()=>new Date().toISOString().split("T")[0]);_e(async()=>{try{const n=await oe.getCurrentUser();n.user&&(a.organizer_email=n.user.email,a.contact.email=n.user.email)}catch(n){console.error("Error loading user data:",n)}await fe()}),Ae(()=>{I.value&&I.value.remove()});async function fe(){try{if(_.accessToken="pk.eyJ1Ijoid2VpaGFuLXh1IiwiYSI6ImNtZ3BxZDRqdjFvdWkya3B5YWNsbnJmdjMifQ.78BuADj9y5fPLNfbz94dHg",!_.accessToken){console.error("Mapbox access token not found");return}if(await ne(),!j.value){console.error("Map container not found");return}I.value=new _.Map({container:j.value,style:"mapbox://styles/mapbox/streets-v12",center:[144.9631,-37.8136],zoom:10}),I.value.addControl(new _.NavigationControl,"top-right"),I.value.on("click",we),console.log("Mapbox initialized successfully")}catch(n){console.error("Error initializing Mapbox:",n)}}let O=null;async function ge(){if(!C.value.trim()||C.value.length<3){S.value=[],M.value=!1;return}O&&clearTimeout(O),O=setTimeout(async()=>{await ye()},300)}async function ye(){V.value=!0;try{const n=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(C.value)}.json?access_token=${_.accessToken}&country=AU&types=address,poi&limit=5&autocomplete=true`);if(!n.ok)throw new Error("Failed to fetch address suggestions");const e=await n.json();S.value=e.features.map(c=>({id:c.id,place_name:c.place_name,center:c.center,context:c.context||[],properties:c.properties||{}})),M.value=S.value.length>0}catch(n){console.error("Error searching addresses:",n),S.value=[],M.value=!1}finally{V.value=!1}}function ee(n){q.value=n,C.value=n.place_name,M.value=!1,R.value=!0,U.value&&U.value.remove(),U.value=new _.Marker().setLngLat(n.center).addTo(I.value),I.value.flyTo({center:n.center,zoom:15})}function he(){if(!q.value)return;const n=ke(q.value);a.venue.address=n.address,a.venue.suburb=n.suburb,a.venue.postcode=n.postcode,a.venue.lat=q.value.center[1],a.venue.lng=q.value.center[0],R.value=!1,b("venueAddress"),b("venueSuburb"),b("venuePostcode")}function ke(n){const e={address:"",suburb:"",postcode:"",state:""},c=n.place_name.split(",");return c.length>0&&(e.address=c[0].trim()),n.context&&n.context.forEach(s=>{s.id.startsWith("postcode")?e.postcode=s.text:s.id.startsWith("place")?e.suburb=s.text:s.id.startsWith("region")&&(e.state=s.text)}),e}function xe(){q.value=null,R.value=!1,C.value="",U.value&&(U.value.remove(),U.value=null)}function Pe(){C.value="",S.value=[],M.value=!1,q.value=null,R.value=!1,U.value&&(U.value.remove(),U.value=null),a.venue.address="",a.venue.suburb="",a.venue.postcode="",a.venue.lat=null,a.venue.lng=null}async function we(n){const{lng:e,lat:c}=n.lngLat;try{V.value=!0;const s=await $e(e,c);if(s){const v={id:`reverse-${Date.now()}`,place_name:s.place_name,center:[e,c],context:s.context||[],properties:s.properties||{}};ee(v)}}catch(s){console.error("Error with map click reverse geocoding:",s)}finally{V.value=!1}}async function $e(n,e){try{const c=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${n},${e}.json?access_token=${_.accessToken}&country=AU&types=address,poi&limit=1`);if(!c.ok)throw new Error("Failed to reverse geocode location");const s=await c.json();return s.features&&s.features.length>0?s.features[0]:null}catch(c){return console.error("Error in reverse geocoding:",c),null}}function b(n){let e="";switch(n){case"title":a.title.trim()?a.title.trim().length<3&&(e="Title must be at least 3 characters long."):e="Program title is required.";break;case"sport":a.sport||(e="Please select a sport.");break;case"ageGroups":a.ageGroups.length===0&&(e="Please select at least one age group.");break;case"description":a.description.trim()?a.description.trim().length<20?e="Description must be at least 20 characters long.":a.description.length>500&&(e="Description must not exceed 500 characters."):e="Program description is required.";break;case"cost":a.cost<0&&(e="Cost cannot be negative.");break;case"scheduleDays":a.schedule.days.length===0&&(e="Please select at least one day.");break;case"startTime":(!a.schedule.startHour||!a.schedule.startMinute)&&(e="Please select start time.");break;case"endTime":if(!a.schedule.endHour||!a.schedule.endMinute)e="Please select end time.";else if(a.schedule.startHour&&a.schedule.startMinute){const c=parseInt(a.schedule.startHour)*60+parseInt(a.schedule.startMinute);parseInt(a.schedule.endHour)*60+parseInt(a.schedule.endMinute)<=c&&(e="End time must be after start time.")}break;case"startDate":a.schedule.startDate?new Date(a.schedule.startDate)<new Date&&(e="Start date cannot be in the past."):e="Please select a start date.";break;case"costUnit":a.costUnit||(e="Please select a cost unit.");break;case"venueName":a.venue.name.trim()||(e="Venue name is required.");break;case"venueAddress":a.venue.address.trim()||(e="Venue address is required.");break;case"venueSuburb":a.venue.suburb.trim()||(e="Venue suburb is required.");break;case"venuePostcode":a.venue.postcode.trim()?/^\d{4}$/.test(a.venue.postcode.trim())||(e="Postcode must be 4 digits."):e="Venue postcode is required.";break;case"contactEmail":a.contact.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.contact.email)||(e="Please enter a valid email address."):e="Contact email is required.";break;case"contactPhone":a.contact.phone.trim()?/^[\d\s\-+()]{8,}$/.test(a.contact.phone.trim())||(e="Please enter a valid phone number."):e="Contact phone is required.";break;case"maxParticipants":!a.maxParticipants||a.maxParticipants<1?e="Maximum participants must be at least 1.":a.maxParticipants>1e3&&(e="Maximum participants cannot exceed 1000.");break;case"images":T.value.length>10&&(e="Maximum 10 images allowed.");break}return o[n]=e,!e}function Te(){return b("title")&&b("sport")&&b("ageGroups")&&b("description")&&b("cost")&&b("costUnit")&&b("scheduleDays")&&b("startTime")&&b("endTime")&&b("startDate")&&b("venueName")&&b("venueAddress")&&b("venueSuburb")&&b("venuePostcode")&&b("contactEmail")&&b("contactPhone")&&b("maxParticipants")}const Ue=ae(()=>a.title.trim()&&a.sport&&a.ageGroups.length>0&&a.description.trim()&&a.cost>=0&&a.costUnit&&a.schedule.days.length>0&&a.schedule.startHour&&a.schedule.startMinute&&a.schedule.endHour&&a.schedule.endMinute&&a.schedule.startDate&&a.venue.name.trim()&&a.venue.address.trim()&&a.venue.suburb.trim()&&a.venue.postcode.trim()&&a.contact.email.trim()&&a.contact.phone.trim()&&a.maxParticipants>0&&!o.title&&!o.sport&&!o.ageGroups&&!o.description&&!o.cost&&!o.costUnit&&!o.scheduleDays&&!o.startTime&&!o.endTime&&!o.startDate&&!o.venueName&&!o.venueAddress&&!o.venueSuburb&&!o.venuePostcode&&!o.contactEmail&&!o.contactPhone&&!o.maxParticipants);function k(n){u[n]=!0,b(n)}function y(n){u[n]&&b(n),D.value&&(D.value=""),A.value&&(A.value="")}function te(){const n=F.value.trim();n&&!a.inclusivityTags.includes(n)&&(a.inclusivityTags.push(n),F.value="")}function Ce(n){a.inclusivityTags.splice(n,1)}function se(){const n=G.value.trim();n&&!a.equipment.required.includes(n)&&(a.equipment.required.push(n),G.value="")}function Se(n){a.equipment.required.splice(n,1)}function qe(n){const e=Array.from(n.target.files);h.value=null;const c=[],s=5*1024*1024,v=["image/jpeg","image/jpg","image/png","image/gif"];for(const g of e){if(!v.includes(g.type)){h.value={type:"error",message:`${g.name} is not a valid image type. Please use JPG, PNG, or GIF.`};return}if(g.size>s){h.value={type:"error",message:`${g.name} is too large. Maximum size is 5MB.`};return}c.push(g)}if(T.value.length+c.length>10){h.value={type:"error",message:"Maximum 10 images allowed. Please remove some images first."};return}T.value.push(...c),c.forEach(g=>{const N=new FileReader;N.onload=z=>{H.value.push({url:z.target.result,name:g.name,file:g})},N.readAsDataURL(g)}),a.images=[],c.length>0&&(h.value={type:"success",message:`${c.length} image(s) ready for upload. Images will be uploaded when you submit the program.`},setTimeout(()=>{h.value=null},5e3)),b("images")}function De(n){H.value.splice(n,1),T.value.splice(n,1),a.images=T.value.map(e=>`/assets/images/${e.name}`),o.images="",h.value={type:"success",message:"Image removed successfully."},setTimeout(()=>{h.value=null},2e3)}async function Ie(){await ne();const n=[{name:"title",ref:Y},{name:"sport",ref:J},{name:"description",ref:K},{name:"cost",ref:Q}];for(const{name:e,ref:c}of n)if(o[e]&&c.value){c.value.focus();break}}async function Me(){if(D.value="",A.value="",!Te()){await Ie();return}B.value=!0;try{if(!(await oe.getCurrentUser()).user){D.value="You must be logged in to create a program. Please log in and try again.";return}const e=[];if(T.value.length>0){h.value={type:"uploading",message:`Uploading ${T.value.length} image(s) to storage...`};for(let g=0;g<T.value.length;g++){const N=T.value[g];try{const z=await re.uploadImageToS3(N,null);e.push(z.url),h.value={type:"uploading",message:`Uploading images... (${g+1}/${T.value.length})`}}catch(z){console.error(`Failed to upload ${N.name}:`,z)}}h.value={type:"success",message:`${e.length} of ${T.value.length} image(s) uploaded successfully.`},setTimeout(()=>{h.value=null},3e3)}const c=a.schedule.days.map(g=>({day:g.charAt(0).toUpperCase()+g.slice(1),start:`${a.schedule.startHour}:${a.schedule.startMinute}`,end:`${a.schedule.endHour}:${a.schedule.endMinute}`,frequency:"weekly",startDate:a.schedule.startDate,endDate:null})),s={title:a.title.trim(),sport:a.sport,organizer_email:a.organizer_email,description:a.description.trim(),ageGroups:a.ageGroups,cost:a.cost,costUnit:a.costUnit,accessibility:a.accessibility,inclusivityTags:a.inclusivityTags,schedule:c,venue:{name:a.venue.name.trim(),address:a.venue.address.trim(),suburb:a.venue.suburb.trim(),postcode:a.venue.postcode.trim(),lat:a.venue.lat,lng:a.venue.lng},equipment:{provided:a.equipment.provided,required:a.equipment.required},contact:{email:a.contact.email.trim(),phone:a.contact.phone.trim()},images:e,maxParticipants:a.maxParticipants};console.log("Submitting program data:",s);const v=await re.createProgram(s);console.log("Program created with ID:",v.programId),A.value=`Program launched successfully! Your program ID is ${v.programId}. Participants can now find and join your program.`,setTimeout(()=>{de.push({name:"organizer-account"})},3e3)}catch(n){D.value=n.message||"Failed to launch program. Please try again.",console.error("Launch program error:",n)}finally{B.value=!1}}return(n,e)=>{const c=Be("RouterLink");return i(),l("div",ze,[t("div",He,[t("div",Le,[t("div",je,[Ve(c,{to:{name:"organizer-account"},class:"btn btn-outline-secondary me-3"},{default:Ee(()=>[...e[58]||(e[58]=[t("i",{class:"bi bi-arrow-left me-2","aria-hidden":"true"},null,-1),d(" Back to Dashboard ",-1)])]),_:1}),e[59]||(e[59]=t("div",null,[t("h1",{class:"h3 mb-1"},"Launch New Program"),t("p",{class:"text-muted mb-0"},"Create and configure your community sports program")],-1))]),A.value?(i(),l("div",Oe,[e[60]||(e[60]=t("i",{class:"bi bi-check-circle-fill me-2","aria-hidden":"true"},null,-1)),d(" "+r(A.value),1)])):m("",!0),D.value?(i(),l("div",We,[e[61]||(e[61]=t("i",{class:"bi bi-exclamation-triangle-fill me-2","aria-hidden":"true"},null,-1)),d(" "+r(D.value),1)])):m("",!0),t("form",{onSubmit:Fe(Me,["prevent"]),novalidate:""},[t("div",Ye,[t("div",Je,[t("div",Ke,[e[77]||(e[77]=t("div",{class:"card-header"},[t("h5",{class:"card-title mb-0"},[t("i",{class:"bi bi-info-circle me-2","aria-hidden":"true"}),d(" Program Information ")])],-1)),t("div",Qe,[t("div",Ze,[e[62]||(e[62]=t("label",{for:"title",class:"form-label"},[d(" Program Title "),t("span",{class:"text-danger"},"*")],-1)),p(t("input",{id:"title",ref_key:"titleRef",ref:Y,type:"text",class:P(["form-control",{"is-invalid":u.title&&o.title}]),"onUpdate:modelValue":e[0]||(e[0]=s=>a.title=s),onBlur:e[1]||(e[1]=s=>k("title")),onInput:e[2]||(e[2]=s=>y("title")),placeholder:"e.g. Beginner's Tennis Program",required:""},null,34),[[x,a.title,void 0,{trim:!0}]]),u.title&&o.title?(i(),l("div",Xe,r(o.title),1)):m("",!0)]),t("div",et,[e[64]||(e[64]=t("label",{for:"sport",class:"form-label"},[d(" Sport "),t("span",{class:"text-danger"},"*")],-1)),p(t("select",{id:"sport",ref_key:"sportRef",ref:J,class:P(["form-select",{"is-invalid":u.sport&&o.sport}]),"onUpdate:modelValue":e[3]||(e[3]=s=>a.sport=s),onBlur:e[4]||(e[4]=s=>k("sport")),onChange:e[5]||(e[5]=s=>y("sport")),required:""},[e[63]||(e[63]=t("option",{value:""},"Select a sport",-1)),(i(),l(w,null,$(ue,s=>t("option",{key:s,value:s},r(s),9,tt)),64))],34),[[E,a.sport]]),u.sport&&o.sport?(i(),l("div",st,r(o.sport),1)):m("",!0)]),t("div",at,[e[65]||(e[65]=t("label",{class:"form-label"},[d(" Age Groups "),t("span",{class:"text-danger"},"*")],-1)),t("div",ot,[(i(),l(w,null,$(ce,s=>t("div",{key:s,class:"col-md-4 col-6"},[t("div",nt,[p(t("input",{id:`age-${s}`,type:"checkbox",class:"form-check-input",value:s,"onUpdate:modelValue":e[6]||(e[6]=v=>a.ageGroups=v),onChange:e[7]||(e[7]=v=>y("ageGroups"))},null,40,lt),[[L,a.ageGroups]]),t("label",{for:`age-${s}`,class:"form-check-label"},r(s),9,it)])])),64))]),u.ageGroups&&o.ageGroups?(i(),l("div",rt,r(o.ageGroups),1)):m("",!0)]),t("div",dt,[e[66]||(e[66]=t("label",{for:"description",class:"form-label"},[d(" Description "),t("span",{class:"text-danger"},"*")],-1)),p(t("textarea",{id:"description",ref_key:"descriptionRef",ref:K,rows:"4",class:P(["form-control",{"is-invalid":u.description&&o.description}]),"onUpdate:modelValue":e[8]||(e[8]=s=>a.description=s),onBlur:e[9]||(e[9]=s=>k("description")),onInput:e[10]||(e[10]=s=>y("description")),placeholder:"Describe your program, what participants can expect, skill level requirements, equipment needed, etc.",required:""},null,34),[[x,a.description,void 0,{trim:!0}]]),u.description&&o.description?(i(),l("div",ut,r(o.description),1)):m("",!0),t("div",ct,r(a.description.length)+"/500 characters",1)]),t("div",mt,[t("div",vt,[e[68]||(e[68]=t("label",{for:"cost",class:"form-label"},[d(" Cost "),t("span",{class:"text-danger"},"*")],-1)),t("div",pt,[e[67]||(e[67]=t("span",{class:"input-group-text"},"$",-1)),p(t("input",{id:"cost",ref_key:"costRef",ref:Q,type:"number",step:"0.01",min:"0",class:P(["form-control",{"is-invalid":u.cost&&o.cost}]),"onUpdate:modelValue":e[11]||(e[11]=s=>a.cost=s),onBlur:e[12]||(e[12]=s=>k("cost")),onInput:e[13]||(e[13]=s=>y("cost")),placeholder:"0.00",required:""},null,34),[[x,a.cost,void 0,{number:!0}]])]),u.cost&&o.cost?(i(),l("div",bt,r(o.cost),1)):m("",!0),e[69]||(e[69]=t("div",{class:"form-text"},"Enter 0 for free programs",-1))]),t("div",ft,[e[70]||(e[70]=t("label",{for:"cost-unit",class:"form-label"},[d(" Cost Unit "),t("span",{class:"text-danger"},"*")],-1)),p(t("select",{id:"cost-unit",class:P(["form-select",{"is-invalid":u.costUnit&&o.costUnit}]),"onUpdate:modelValue":e[14]||(e[14]=s=>a.costUnit=s),onBlur:e[15]||(e[15]=s=>k("costUnit")),onChange:e[16]||(e[16]=s=>y("costUnit")),required:""},[(i(),l(w,null,$(me,s=>t("option",{key:s,value:s},r(s),9,gt)),64))],34),[[E,a.costUnit]]),u.costUnit&&o.costUnit?(i(),l("div",yt,r(o.costUnit),1)):m("",!0)])]),t("div",ht,[e[75]||(e[75]=t("label",{for:"program-images",class:"form-label"}," Program Images ",-1)),t("input",{id:"program-images",type:"file",class:P(["form-control",{"is-invalid":u.images&&o.images}]),multiple:"",accept:"image/*",onChange:qe,onBlur:e[17]||(e[17]=s=>k("images"))},null,34),u.images&&o.images?(i(),l("div",kt,r(o.images),1)):m("",!0),e[76]||(e[76]=t("div",{class:"form-text"},"Upload images to showcase your program (JPG, PNG, GIF - Max 5MB each, up to 10 images)",-1)),H.value.length>0?(i(),l("div",xt,[t("div",Pt,[(i(!0),l(w,null,$(H.value,(s,v)=>(i(),l("div",{key:v,class:"col-6 col-md-4 col-lg-3"},[t("div",wt,[t("img",{src:s.url,alt:`Preview ${v+1}`,class:"img-thumbnail w-100",style:{height:"100px","object-fit":"cover"}},null,8,$t),t("button",{type:"button",class:"btn btn-danger btn-sm position-absolute top-0 end-0 m-1",onClick:g=>De(v),"aria-label":`Remove image ${v+1}`},[...e[71]||(e[71]=[t("i",{class:"bi bi-x","aria-hidden":"true"},null,-1)])],8,Tt),t("div",Ut,r(s.name),1)])]))),128))])])):m("",!0),h.value?(i(),l("div",Ct,[h.value.type==="uploading"?(i(),l("div",St,[...e[72]||(e[72]=[t("i",{class:"bi bi-cloud-arrow-up me-1","aria-hidden":"true"},null,-1),d(" Uploading images... ",-1)])])):h.value.type==="success"?(i(),l("div",qt,[e[73]||(e[73]=t("i",{class:"bi bi-check-circle me-1","aria-hidden":"true"},null,-1)),d(" "+r(h.value.message),1)])):h.value.type==="error"?(i(),l("div",Dt,[e[74]||(e[74]=t("i",{class:"bi bi-exclamation-triangle me-1","aria-hidden":"true"},null,-1)),d(" "+r(h.value.message),1)])):m("",!0)])):m("",!0)])])]),t("div",It,[e[85]||(e[85]=t("div",{class:"card-header"},[t("h5",{class:"card-title mb-0"},[t("i",{class:"bi bi-universal-access me-2","aria-hidden":"true"}),d(" Accessibility & Inclusivity ")])],-1)),t("div",Mt,[t("div",_t,[e[78]||(e[78]=t("label",{class:"form-label"},"Accessibility Features",-1)),t("div",At,[(i(),l(w,null,$(ve,s=>t("div",{key:s,class:"col-md-6"},[t("div",Vt,[p(t("input",{id:`accessibility-${s}`,type:"checkbox",class:"form-check-input",value:s,"onUpdate:modelValue":e[18]||(e[18]=v=>a.accessibility=v)},null,8,Et),[[L,a.accessibility]]),t("label",{for:`accessibility-${s}`,class:"form-check-label"},r(s),9,Bt)])])),64))])]),t("div",Ft,[e[79]||(e[79]=t("label",{for:"inclusivity-tag-input",class:"form-label"},"Inclusivity Tags",-1)),t("div",Gt,[p(t("input",{id:"inclusivity-tag-input",type:"text",class:"form-control","onUpdate:modelValue":e[19]||(e[19]=s=>F.value=s),onKeyup:le(te,["enter"]),placeholder:"Type a tag and press Enter"},null,544),[[x,F.value]]),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:te,disabled:!F.value.trim()}," Add Tag ",8,Rt)]),t("div",Nt,[(i(!0),l(w,null,$(a.inclusivityTags,(s,v)=>(i(),l("span",{key:v,class:"badge bg-primary"},[d(r(s)+" ",1),t("button",{type:"button",class:"btn-close btn-close-white ms-2",onClick:g=>Ce(v),"aria-label":`Remove ${s} tag`},null,8,zt)]))),128))]),e[80]||(e[80]=t("div",{class:"form-text"},"Examples: beginner-friendly, women-only, LGBTQ+ friendly, family-oriented",-1))]),t("div",Ht,[e[82]||(e[82]=t("label",{class:"form-label"},"Equipment",-1)),t("div",Lt,[p(t("input",{id:"equipment-provided",type:"checkbox",class:"form-check-input","onUpdate:modelValue":e[20]||(e[20]=s=>a.equipment.provided=s)},null,512),[[L,a.equipment.provided]]),e[81]||(e[81]=t("label",{for:"equipment-provided",class:"form-check-label"}," Equipment provided by organizer ",-1))]),e[83]||(e[83]=t("label",{for:"equipment-input",class:"form-label"},"Required Equipment",-1)),t("div",jt,[p(t("input",{id:"equipment-input",type:"text",class:"form-control","onUpdate:modelValue":e[21]||(e[21]=s=>G.value=s),onKeyup:le(se,["enter"]),placeholder:"Type equipment item and press Enter"},null,544),[[x,G.value]]),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:se,disabled:!G.value.trim()}," Add Item ",8,Ot)]),t("div",Wt,[(i(!0),l(w,null,$(a.equipment.required,(s,v)=>(i(),l("span",{key:v,class:"badge bg-secondary"},[d(r(s)+" ",1),t("button",{type:"button",class:"btn-close btn-close-white ms-2",onClick:g=>Se(v),"aria-label":`Remove ${s}`},null,8,Yt)]))),128))]),e[84]||(e[84]=t("div",{class:"form-text"},"Examples: sports shoes, water bottle, yoga mat",-1))])])]),t("div",Jt,[e[104]||(e[104]=t("div",{class:"card-header"},[t("h5",{class:"card-title mb-0"},[t("i",{class:"bi bi-geo-alt me-2","aria-hidden":"true"}),d(" Venue Information ")])],-1)),t("div",Kt,[t("div",Qt,[e[86]||(e[86]=t("label",{for:"venue-name",class:"form-label"},[d(" Venue Name "),t("span",{class:"text-danger"},"*")],-1)),p(t("input",{id:"venue-name",type:"text",class:P(["form-control",{"is-invalid":u.venueName&&o.venueName}]),"onUpdate:modelValue":e[22]||(e[22]=s=>a.venue.name=s),onBlur:e[23]||(e[23]=s=>k("venueName")),onInput:e[24]||(e[24]=s=>y("venueName")),placeholder:"e.g. Carlton Youth Centre",required:""},null,34),[[x,a.venue.name,void 0,{trim:!0}]]),u.venueName&&o.venueName?(i(),l("div",Zt,r(o.venueName),1)):m("",!0)]),t("div",Xt,[e[89]||(e[89]=t("label",{for:"address-search",class:"form-label"},[d(" Address Search "),t("span",{class:"text-danger"},"*")],-1)),t("div",es,[t("div",ts,[p(t("input",{id:"address-search",type:"text",class:"form-control","onUpdate:modelValue":e[25]||(e[25]=s=>C.value=s),onInput:ge,onFocus:e[26]||(e[26]=s=>M.value=S.value.length>0),placeholder:"Start typing an address...",autocomplete:"off"},null,544),[[x,C.value]]),t("button",{type:"button",class:"btn btn-outline-secondary",onClick:Pe,disabled:!C.value},[...e[87]||(e[87]=[t("i",{class:"bi bi-x-lg"},null,-1)])],8,ss)]),V.value?(i(),l("div",as,[...e[88]||(e[88]=[t("div",{class:"spinner-border spinner-border-sm text-primary",role:"status"},[t("span",{class:"visually-hidden"},"Searching...")],-1)])])):m("",!0),M.value&&S.value.length>0?(i(),l("div",os,[(i(!0),l(w,null,$(S.value,s=>(i(),l("div",{key:s.id,class:"p-3 border-bottom suggestion-item",onClick:v=>ee(s),style:{cursor:"pointer"}},[t("div",ls,r(s.place_name),1)],8,ns))),128))])):m("",!0)]),e[90]||(e[90]=t("div",{class:"form-text"}," Search for your venue address. Select from the suggestions to auto-fill address details. ",-1))]),R.value?(i(),l("div",is,[t("div",rs,[e[95]||(e[95]=t("i",{class:"bi bi-info-circle me-2"},null,-1)),t("div",ds,[e[91]||(e[91]=t("strong",null,"Selected Address:",-1)),e[92]||(e[92]=t("br",null,null,-1)),d(" "+r(q.value.place_name),1)]),t("div",{class:"ms-3"},[t("button",{type:"button",class:"btn btn-success btn-sm me-2",onClick:he},[...e[93]||(e[93]=[t("i",{class:"bi bi-check-lg me-1"},null,-1),d("Confirm ",-1)])]),t("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:xe},[...e[94]||(e[94]=[t("i",{class:"bi bi-x-lg me-1"},null,-1),d("Cancel ",-1)])])])])])):m("",!0),t("div",us,[e[97]||(e[97]=t("label",{class:"form-label"},"Location Map",-1)),t("div",cs,[t("div",{ref_key:"mapContainer",ref:j,class:"map-container border rounded",style:{height:"300px",width:"100%"}},null,512),V.value?(i(),l("div",ms,[...e[96]||(e[96]=[t("div",{class:"text-center"},[t("div",{class:"spinner-border text-primary mb-2",role:"status"},[t("span",{class:"visually-hidden"},"Finding address...")]),t("div",{class:"small text-muted"},"Finding address...")],-1)])])):m("",!0)]),e[98]||(e[98]=Ge('<div class="form-text" data-v-f6491c5d><i class="bi bi-info-circle me-1" data-v-f6491c5d></i><strong data-v-f6491c5d>Interactive Map:</strong> Click anywhere on the map to automatically find the address at that location, or use the address search above to find a specific address. </div><div class="mt-2" data-v-f6491c5d><small class="text-muted" data-v-f6491c5d><i class="bi bi-cursor me-1" data-v-f6491c5d></i> Tip: The map cursor changes to a crosshair to indicate it&#39;s clickable </small></div>',2))]),t("div",vs,[t("div",ps,[e[99]||(e[99]=t("label",{for:"venue-address",class:"form-label"},[d(" Street Address "),t("span",{class:"text-danger"},"*")],-1)),p(t("input",{id:"venue-address",type:"text",class:P(["form-control",{"is-invalid":u.venueAddress&&o.venueAddress}]),"onUpdate:modelValue":e[27]||(e[27]=s=>a.venue.address=s),onBlur:e[28]||(e[28]=s=>k("venueAddress")),onInput:e[29]||(e[29]=s=>y("venueAddress")),placeholder:"e.g. 88 Rathdowne St",required:"",readonly:""},null,34),[[x,a.venue.address,void 0,{trim:!0}]]),u.venueAddress&&o.venueAddress?(i(),l("div",bs,r(o.venueAddress),1)):m("",!0),e[100]||(e[100]=t("div",{class:"form-text"},"Auto-filled from address search",-1))]),t("div",fs,[e[101]||(e[101]=t("label",{for:"venue-suburb",class:"form-label"},[d(" Suburb "),t("span",{class:"text-danger"},"*")],-1)),p(t("input",{id:"venue-suburb",type:"text",class:P(["form-control",{"is-invalid":u.venueSuburb&&o.venueSuburb}]),"onUpdate:modelValue":e[30]||(e[30]=s=>a.venue.suburb=s),onBlur:e[31]||(e[31]=s=>k("venueSuburb")),onInput:e[32]||(e[32]=s=>y("venueSuburb")),placeholder:"e.g. Carlton",required:"",readonly:""},null,34),[[x,a.venue.suburb,void 0,{trim:!0}]]),u.venueSuburb&&o.venueSuburb?(i(),l("div",gs,r(o.venueSuburb),1)):m("",!0)]),t("div",ys,[e[102]||(e[102]=t("label",{for:"venue-postcode",class:"form-label"},[d(" Postcode "),t("span",{class:"text-danger"},"*")],-1)),p(t("input",{id:"venue-postcode",type:"text",class:P(["form-control",{"is-invalid":u.venuePostcode&&o.venuePostcode}]),"onUpdate:modelValue":e[33]||(e[33]=s=>a.venue.postcode=s),onBlur:e[34]||(e[34]=s=>k("venuePostcode")),onInput:e[35]||(e[35]=s=>y("venuePostcode")),placeholder:"e.g. 3053",maxlength:"4",required:"",readonly:""},null,34),[[x,a.venue.postcode,void 0,{trim:!0}]]),u.venuePostcode&&o.venuePostcode?(i(),l("div",hs,r(o.venuePostcode),1)):m("",!0)])]),a.venue.lat&&a.venue.lng?(i(),l("div",ks,[t("small",xs,[e[103]||(e[103]=t("i",{class:"bi bi-geo me-1"},null,-1)),d(" Coordinates: "+r(a.venue.lat.toFixed(6))+", "+r(a.venue.lng.toFixed(6)),1)])])):m("",!0)])]),t("div",Ps,[e[107]||(e[107]=t("div",{class:"card-header"},[t("h5",{class:"card-title mb-0"},[t("i",{class:"bi bi-telephone me-2","aria-hidden":"true"}),d(" Contact Information ")])],-1)),t("div",ws,[t("div",$s,[e[105]||(e[105]=t("label",{for:"contact-email",class:"form-label"},[d(" Contact Email "),t("span",{class:"text-danger"},"*")],-1)),p(t("input",{id:"contact-email",type:"email",class:P(["form-control",{"is-invalid":u.contactEmail&&o.contactEmail}]),"onUpdate:modelValue":e[36]||(e[36]=s=>a.contact.email=s),onBlur:e[37]||(e[37]=s=>k("contactEmail")),onInput:e[38]||(e[38]=s=>y("contactEmail")),placeholder:"e.g. contact@example.com",required:""},null,34),[[x,a.contact.email,void 0,{trim:!0}]]),u.contactEmail&&o.contactEmail?(i(),l("div",Ts,r(o.contactEmail),1)):m("",!0)]),t("div",Us,[e[106]||(e[106]=t("label",{for:"contact-phone",class:"form-label"},[d(" Contact Phone "),t("span",{class:"text-danger"},"*")],-1)),p(t("input",{id:"contact-phone",type:"tel",class:P(["form-control",{"is-invalid":u.contactPhone&&o.contactPhone}]),"onUpdate:modelValue":e[39]||(e[39]=s=>a.contact.phone=s),onBlur:e[40]||(e[40]=s=>k("contactPhone")),onInput:e[41]||(e[41]=s=>y("contactPhone")),placeholder:"e.g. 03 9123 4567",required:""},null,34),[[x,a.contact.phone,void 0,{trim:!0}]]),u.contactPhone&&o.contactPhone?(i(),l("div",Cs,r(o.contactPhone),1)):m("",!0)])])])]),t("div",Ss,[t("div",qs,[e[118]||(e[118]=t("div",{class:"card-header"},[t("h5",{class:"card-title mb-0"},[t("i",{class:"bi bi-calendar-event me-2","aria-hidden":"true"}),d(" Schedule ")])],-1)),t("div",Ds,[t("div",Is,[e[108]||(e[108]=t("label",{class:"form-label"},[d(" Days "),t("span",{class:"text-danger"},"*")],-1)),t("div",Ms,[(i(),l(w,null,$(pe,s=>t("div",{key:s.value,class:"form-check"},[p(t("input",{id:`day-${s.value}`,type:"checkbox",class:"form-check-input",value:s.value,"onUpdate:modelValue":e[42]||(e[42]=v=>a.schedule.days=v),onChange:e[43]||(e[43]=v=>y("scheduleDays"))},null,40,_s),[[L,a.schedule.days]]),t("label",{for:`day-${s.value}`,class:"form-check-label"},r(s.label),9,As)])),64))]),u.scheduleDays&&o.scheduleDays?(i(),l("div",Vs,r(o.scheduleDays),1)):m("",!0)]),t("div",Es,[e[111]||(e[111]=t("label",{for:"start-time",class:"form-label"},[d(" Start Time "),t("span",{class:"text-danger"},"*")],-1)),t("div",Bs,[t("div",Fs,[p(t("select",{id:"start-hour",class:"form-select form-select-sm","onUpdate:modelValue":e[44]||(e[44]=s=>a.schedule.startHour=s),onChange:e[45]||(e[45]=s=>y("startTime"))},[e[109]||(e[109]=t("option",{value:""},"Hour",-1)),(i(!0),l(w,null,$(ie(Z),s=>(i(),l("option",{key:s,value:s},r(s),9,Gs))),128))],544),[[E,a.schedule.startHour]])]),t("div",Rs,[p(t("select",{id:"start-minute",class:"form-select form-select-sm","onUpdate:modelValue":e[46]||(e[46]=s=>a.schedule.startMinute=s),onChange:e[47]||(e[47]=s=>y("startTime"))},[e[110]||(e[110]=t("option",{value:""},"Min",-1)),(i(),l(w,null,$(X,s=>t("option",{key:s,value:s},r(s),9,Ns)),64))],544),[[E,a.schedule.startMinute]])])]),u.startTime&&o.startTime?(i(),l("div",zs,r(o.startTime),1)):m("",!0)]),t("div",Hs,[e[114]||(e[114]=t("label",{for:"end-time",class:"form-label"},[d(" End Time "),t("span",{class:"text-danger"},"*")],-1)),t("div",Ls,[t("div",js,[p(t("select",{id:"end-hour",class:"form-select form-select-sm","onUpdate:modelValue":e[48]||(e[48]=s=>a.schedule.endHour=s),onChange:e[49]||(e[49]=s=>y("endTime"))},[e[112]||(e[112]=t("option",{value:""},"Hour",-1)),(i(!0),l(w,null,$(ie(Z),s=>(i(),l("option",{key:s,value:s},r(s),9,Os))),128))],544),[[E,a.schedule.endHour]])]),t("div",Ws,[p(t("select",{id:"end-minute",class:"form-select form-select-sm","onUpdate:modelValue":e[50]||(e[50]=s=>a.schedule.endMinute=s),onChange:e[51]||(e[51]=s=>y("endTime"))},[e[113]||(e[113]=t("option",{value:""},"Min",-1)),(i(),l(w,null,$(X,s=>t("option",{key:s,value:s},r(s),9,Ys)),64))],544),[[E,a.schedule.endMinute]])])]),u.endTime&&o.endTime?(i(),l("div",Js,r(o.endTime),1)):m("",!0)]),t("div",Ks,[e[115]||(e[115]=t("label",{for:"start-date",class:"form-label"},[d(" Start Date "),t("span",{class:"text-danger"},"*")],-1)),p(t("input",{id:"start-date",type:"date",class:P(["form-control",{"is-invalid":u.startDate&&o.startDate}]),"onUpdate:modelValue":e[52]||(e[52]=s=>a.schedule.startDate=s),onBlur:e[53]||(e[53]=s=>k("startDate")),onChange:e[54]||(e[54]=s=>y("startDate")),min:be.value,required:""},null,42,Qs),[[x,a.schedule.startDate]]),u.startDate&&o.startDate?(i(),l("div",Zs,r(o.startDate),1)):m("",!0)]),t("div",Xs,[e[116]||(e[116]=t("label",{for:"max-participants",class:"form-label"},[d(" Max Participants "),t("span",{class:"text-danger"},"*")],-1)),p(t("input",{id:"max-participants",type:"number",min:"1",max:"1000",class:P(["form-control",{"is-invalid":u.maxParticipants&&o.maxParticipants}]),"onUpdate:modelValue":e[55]||(e[55]=s=>a.maxParticipants=s),onBlur:e[56]||(e[56]=s=>k("maxParticipants")),onInput:e[57]||(e[57]=s=>y("maxParticipants")),placeholder:"20",required:""},null,34),[[x,a.maxParticipants,void 0,{number:!0}]]),u.maxParticipants&&o.maxParticipants?(i(),l("div",ea,r(o.maxParticipants),1)):m("",!0),e[117]||(e[117]=t("div",{class:"form-text"},"Maximum number of participants allowed",-1))]),t("button",{type:"submit",class:"btn btn-success w-100",disabled:B.value||!Ue.value},[B.value?(i(),l("span",sa)):(i(),l("i",aa)),d(" "+r(B.value?"Launching...":"Launch Program"),1)],8,ta)])])])])],32)])])])}}},ua=Ne(oa,[["__scopeId","data-v-f6491c5d"]]);export{ua as default};
