import{r as u,m as S,o as ke,u as Ce,y as Le,c as l,a as e,b as j,w as A,d as Me,t as r,f as v,e as d,F as g,g as f,k as K,v as ee,n as E,z as te,A as Se,B as oe,C as se,D as Ee,E as De,p as ae,G as z,s as $e,H as Te,h as i,I as Ie}from"./index-CanbGPVk.js";import{d as Pe}from"./DataService-z2Ih9ngB.js";import{m as p}from"./mapbox-gl-CQxWPcX7.js";import{_ as qe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Be={class:"container py-4 py-lg-5"},Fe={key:0,class:"text-center py-5"},Re={key:1},Ue={"aria-label":"breadcrumb",class:"mb-4"},Ne={class:"breadcrumb"},je={class:"breadcrumb-item"},Ae={class:"breadcrumb-item"},ze={class:"breadcrumb-item active","aria-current":"page"},Ge={class:"row"},Ve={class:"col-lg-8"},He={class:"card mb-4"},Ye={class:"card-body"},Oe={class:"d-flex justify-content-between align-items-start mb-3"},Je={class:"h3 mb-2"},Qe={class:"d-flex align-items-center gap-3 text-muted"},We={class:"text-end"},Ze={class:"h4 mb-0 text-primary"},Xe={class:"mb-3"},Ke={class:"d-flex align-items-center gap-2 mb-2"},et={class:"stars"},tt={class:"fw-semibold"},ot={class:"text-muted"},st={key:0,class:"rating-bars"},at={class:"rating-label"},nt={class:"progress flex-grow-1",style:{height:"8px"}},lt={class:"rating-count text-muted"},it={class:"mb-3"},rt={key:0,class:"mb-3"},dt={class:"d-flex flex-wrap gap-2"},ut={key:1,class:"mb-3"},ct={class:"d-flex flex-wrap gap-2"},mt={key:2,class:"mb-4"},vt={class:"d-flex flex-wrap gap-2"},bt={class:"d-flex gap-2"},pt=["disabled"],gt={key:0,class:"card mb-4"},ft={class:"card-body"},yt={class:"row g-3 mb-3"},ht={class:"col-md-6"},_t={class:"d-flex gap-2"},wt=["disabled"],xt={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"},kt={key:1,class:"bi bi-geo-alt-fill me-2"},Ct=["disabled"],Lt={class:"col-md-6"},Mt={class:"input-group"},St=["disabled"],Et={key:0,class:"position-absolute w-100 bg-white border rounded-bottom shadow-lg mt-1",style:{"z-index":"1000","max-height":"200px","overflow-y":"auto"}},Dt=["onClick"],$t={class:"fw-medium small"},Tt={key:0,class:"alert alert-info mb-3"},It={class:"d-flex justify-content-between align-items-center"},Pt={class:"text-end"},qt={class:"text-muted"},Bt={class:"position-relative"},Ft={key:0,class:"position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-white bg-opacity-75 rounded",style:{"z-index":"1000"}},Rt={class:"card"},Ut={class:"card-body"},Nt={key:0,class:"text-center py-4"},jt={key:1,class:"text-center py-4 text-muted"},At={key:2},zt={class:"d-flex justify-content-between align-items-start mb-2"},Gt={class:"d-flex align-items-center gap-2"},Vt={class:"avatar-circle"},Ht={class:"mb-0"},Yt={class:"stars small"},Ot={class:"text-muted"},Jt={class:"mb-0"},Qt={class:"col-lg-4"},Wt={key:0,class:"card mb-4"},Zt={class:"card-body"},Xt={class:"fw-semibold"},Kt={class:"text-muted"},eo={class:"small text-muted"},to={key:0,class:"small text-muted"},oo={key:1,class:"card mb-4"},so={class:"card-body"},ao={class:"mb-2"},no={key:2,class:"card mb-4"},lo={class:"card-body"},io={class:"mb-2"},ro={key:0},uo={class:"mb-0 mt-1"},co={key:3,class:"card"},mo={class:"card-body"},vo={class:"mb-2"},bo=["href"],po={key:0,class:"mb-0"},go=["href"],fo={class:"modal-dialog"},yo={class:"modal-content"},ho={class:"modal-body"},_o={class:"mb-3"},wo={class:"rating-input d-flex gap-1"},xo=["onClick","title"],ko={class:"mb-3"},Co={class:"form-text"},Lo={class:"modal-footer"},Mo=["disabled"],So={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"},Eo={__name:"ProgramDetailsPage",setup(Do){const ne=Ce(),D=$e(),a=u(null),h=u([]),B=u(!0),G=u(!1),L=u(!1),b=u({rating:0,comment:""}),c=u(null),$=u(null),M=u(!0),x=u(!1),F=u(!1),k=u(null),y=u(""),_=u([]),w=u(!1),V=u(!1),C=u(null),le=u(null),T=u(null),I=S(()=>h.value.length===0?0:h.value.reduce((t,n)=>t+n.rating,0)/h.value.length),P=S(()=>h.value.length),H=S(()=>{const s={1:0,2:0,3:0,4:0,5:0};return h.value.forEach(t=>{s[t.rating]++}),s}),Y=S(()=>b.value.rating>0&&b.value.comment.trim().length>0&&b.value.comment.length<=500),O=S(()=>typeof navigator<"u"&&"geolocation"in navigator);async function ie(){try{if(p.accessToken="pk.eyJ1Ijoid2VpaGFuLXh1IiwiYSI6ImNtZ3BxZDRqdjFvdWkya3B5YWNsbnJmdjMifQ.78BuADj9y5fPLNfbz94dHg",!p.accessToken){console.error("Mapbox access token not found"),M.value=!1;return}if(await ae(),await new Promise(t=>setTimeout(t,100)),!$.value&&(console.error("Navigation map container not found, retrying..."),await ae(),!$.value)){console.error("Navigation map container still not found after retry"),M.value=!1;return}const s=[a.value.venue.lng,a.value.venue.lat];c.value=new p.Map({container:$.value,style:"mapbox://styles/mapbox/streets-v12",center:s,zoom:14}),c.value.addControl(new p.NavigationControl,"top-right"),c.value.on("load",()=>{le.value=new p.Marker({color:"#dc3545"}).setLngLat(s).setPopup(new p.Popup().setHTML(`
          <div class="p-2">
            <strong>${a.value.venue.name}</strong><br>
            <small>${a.value.venue.address}</small>
          </div>
        `)).addTo(c.value),M.value=!1}),c.value.on("click",me),console.log("Navigation map initialized successfully")}catch(s){console.error("Error initializing navigation map:",s),M.value=!1}}async function re(){if(!O.value){alert("Geolocation is not supported by this browser.");return}x.value=!0,navigator.geolocation.getCurrentPosition(async s=>{const{latitude:t,longitude:n}=s.coords;await q([n,t],[a.value.venue.lng,a.value.venue.lat]),x.value=!1},s=>{console.error("Error getting location:",s),alert("Unable to get your current location. Please try entering an address manually."),x.value=!1},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}let R=null;async function de(){if(!y.value.trim()||y.value.length<3){_.value=[],w.value=!1;return}R&&clearTimeout(R),R=setTimeout(async()=>{await ue()},300)}async function ue(){V.value=!0;try{const s=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(y.value)}.json?access_token=${p.accessToken}&country=AU&types=address,poi&limit=5&autocomplete=true`);if(!s.ok)throw new Error("Failed to fetch address suggestions");const t=await s.json();_.value=t.features.map(n=>({id:n.id,place_name:n.place_name,center:n.center,context:n.context||[],properties:n.properties||{}})),w.value=_.value.length>0}catch(s){console.error("Error searching start location:",s),_.value=[],w.value=!1}finally{V.value=!1}}async function ce(s){y.value=s.place_name,w.value=!1,await q(s.center,[a.value.venue.lng,a.value.venue.lat])}async function me(s){const{lng:t,lat:n}=s.lngLat;try{const o=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${t},${n}.json?access_token=${p.accessToken}&country=AU&types=address,poi&limit=1`);if(o.ok){const m=await o.json();m.features&&m.features.length>0&&(y.value=m.features[0].place_name)}await q([t,n],[a.value.venue.lng,a.value.venue.lat])}catch(o){console.error("Error with map click:",o),await q([t,n],[a.value.venue.lng,a.value.venue.lat])}}async function q(s,t){try{const n=await fetch(`https://api.mapbox.com/directions/v5/mapbox/driving/${s[0]},${s[1]};${t[0]},${t[1]}?access_token=${p.accessToken}&geometries=geojson&overview=full&steps=true`);if(!n.ok)throw new Error("Failed to get route");const o=await n.json();if(o.routes&&o.routes.length>0){const m=o.routes[0];k.value={distance:pe(m.distance),duration:ge(m.duration),mode:"Driving"},C.value&&C.value.remove(),C.value=new p.Marker({color:"#28a745"}).setLngLat(s).setPopup(new p.Popup().setHTML('<div class="p-2"><strong>Start Location</strong></div>')).addTo(c.value),T.value&&(c.value.removeLayer("route"),c.value.removeSource("route")),c.value.addSource("route",{type:"geojson",data:{type:"Feature",properties:{},geometry:m.geometry}}),c.value.addLayer({id:"route",type:"line",source:"route",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#007cbf","line-width":5,"line-opacity":.8}});const N=m.geometry.coordinates,_e=N.reduce((we,xe)=>we.extend(xe),new p.LngLatBounds(N[0],N[0]));c.value.fitBounds(_e,{padding:50}),F.value=!0,T.value="route"}}catch(n){console.error("Error showing route:",n),alert("Unable to calculate route. Please try again.")}}function ve(){C.value&&(C.value.remove(),C.value=null),T.value&&c.value.getLayer("route")&&(c.value.removeLayer("route"),c.value.removeSource("route"),T.value=null),k.value=null,F.value=!1,y.value="",c.value&&a.value.venue&&c.value.flyTo({center:[a.value.venue.lng,a.value.venue.lat],zoom:14})}function be(){y.value="",_.value=[],w.value=!1}function pe(s){return s<1e3?`${Math.round(s)} m`:`${(s/1e3).toFixed(1)} km`}function ge(s){const t=Math.round(s/60);if(t<60)return`${t} min`;{const n=Math.floor(t/60),o=t%60;return`${n}h ${o}m`}}function fe(s,t){return s===0?"Free":`$${s} ${t||"per session"}`}function J(s){return s.replace(/-/g," ").replace(/\b\w/g,t=>t.toUpperCase())}function Q(s){return s?new Date(s).toLocaleDateString("en-AU",{year:"numeric",month:"short",day:"numeric"}):""}function ye(s){return s?s.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):"U"}async function W(){if(a.value){B.value=!0;try{const s=Se(oe(se,"program-comments"),Ee("programID","==",a.value.id)),t=await De(s);h.value=t.docs.map(n=>({id:n.id,...n.data()})).sort((n,o)=>new Date(o.createdAt)-new Date(n.createdAt))}catch(s){console.error("Error loading comments:",s),h.value=[]}finally{B.value=!1}}}async function Z(){console.log("openCommentModal called");const s=z.getCurrentUserSync();if(console.log("Current user:",s),!s.user){console.log("No user found, redirecting to login"),D.push({name:"login"});return}b.value={rating:0,comment:""},console.log("Form reset, opening modal...");try{const t=document.getElementById("commentModal");if(!t){console.error("Modal element not found");return}if(console.log("Modal element found:",t),console.log("Bootstrap available:",typeof window.bootstrap<"u"),typeof window.bootstrap<"u"&&window.bootstrap.Modal)try{new window.bootstrap.Modal(t).show(),console.log("Modal opened with Bootstrap");return}catch(n){console.warn("Bootstrap modal failed, using fallback:",n)}console.log("Using CSS fallback to show modal"),t.classList.add("show"),t.style.display="flex",document.body.classList.add("modal-open")}catch(t){console.error("Error opening modal:",t)}}function U(){try{const s=document.getElementById("commentModal");if(window.bootstrap&&typeof window.bootstrap.Modal<"u"){const t=window.bootstrap.Modal.getInstance(s);t&&t.hide()}else if(s){s.classList.remove("show"),s.style.display="none",document.body.classList.remove("modal-open");const t=document.querySelector(".modal-backdrop");t&&t.remove()}}catch(s){console.error("Error closing modal:",s);const t=document.getElementById("commentModal");if(t){t.classList.remove("show"),t.style.display="none",document.body.classList.remove("modal-open");const n=document.querySelector(".modal-backdrop");n&&n.remove()}}}async function X(){const s=await z.getCurrentUser();if(!s.user){D.push({name:"login"});return}if(Y.value){L.value=!0;try{const t={userName:s.userName||s.user.email.split("@")[0],programID:a.value.id,comment:b.value.comment.trim(),rating:b.value.rating,createdAt:new Date().toISOString(),userID:s.user.uid};await Te(oe(se,"program-comments"),t);try{const n=document.getElementById("commentModal");if(window.bootstrap&&typeof window.bootstrap.Modal<"u"){const o=window.bootstrap.Modal.getInstance(n);o?o.hide():new window.bootstrap.Modal(n).hide()}else if(n){n.classList.remove("show"),n.style.display="none",document.body.classList.remove("modal-open");const o=document.querySelector(".modal-backdrop");o&&o.remove()}}catch(n){console.error("Error closing modal:",n);const o=document.getElementById("commentModal");if(o){o.classList.remove("show"),o.style.display="none",document.body.classList.remove("modal-open");const m=document.querySelector(".modal-backdrop");m&&m.remove()}}await W(),b.value={rating:0,comment:""}}catch(t){console.error("Error submitting comment:",t),alert("Error submitting review. Please try again.")}finally{L.value=!1}}}async function he(){const s=z.getCurrentUserSync();if(!s.user){D.push({name:"login"});return}s.role==="member"?D.push({name:"member-appointment",params:{programId:a.value.id}}):alert("Only members can book programs. Please switch to member role or register as a member.")}return ke(async()=>{try{a.value=await Pe.getProgram(ne.params.id),a.value&&(await W(),a.value.venue&&a.value.venue.lat&&a.value.venue.lng&&await ie())}catch(s){console.error("Error loading program:",s),a.value=null}}),Le(()=>{c.value&&c.value.remove()}),(s,t)=>{const n=Me("RouterLink");return i(),l("div",Be,[a.value?(i(),l("div",Re,[e("nav",Ue,[e("ol",Ne,[e("li",je,[j(n,{to:{name:"home"}},{default:A(()=>[...t[7]||(t[7]=[d("Home",-1)])]),_:1})]),e("li",Ae,[j(n,{to:{name:"find"}},{default:A(()=>[...t[8]||(t[8]=[d("Find Sports",-1)])]),_:1})]),e("li",ze,r(a.value.title),1)])]),e("div",Ge,[e("div",Ve,[e("div",He,[e("div",Ye,[e("div",Oe,[e("div",null,[e("h1",Je,r(a.value.title),1),e("div",Qe,[e("span",null,[t[9]||(t[9]=e("i",{class:"bi bi-trophy me-1"},null,-1)),d(r(a.value.sport),1)]),e("span",null,[t[10]||(t[10]=e("i",{class:"bi bi-geo-alt me-1"},null,-1)),d(r(a.value.venue?.suburb||"Melbourne"),1)]),e("span",null,[t[11]||(t[11]=e("i",{class:"bi bi-people me-1"},null,-1)),d("Max "+r(a.value.maxParticipants)+" participants",1)])])]),e("div",We,[e("div",Ze,r(fe(a.value.cost,a.value.costUnit)),1)])]),e("div",Xe,[e("div",Ke,[e("div",et,[(i(),l(g,null,f(5,o=>e("i",{key:o,class:E(o<=Math.floor(I.value)?"bi bi-star-fill text-warning":o===Math.ceil(I.value)&&I.value%1>=.5?"bi bi-star-half text-warning":"bi bi-star text-muted")},null,2)),64))]),e("span",tt,r(I.value.toFixed(1)),1),e("span",ot,"("+r(P.value)+" "+r(P.value===1?"review":"reviews")+")",1)]),P.value>0?(i(),l("div",st,[(i(),l(g,null,f([5,4,3,2,1],o=>e("div",{key:o,class:"d-flex align-items-center gap-2 mb-1"},[e("span",at,r(o)+" star",1),e("div",nt,[e("div",{class:"progress-bar bg-warning",style:Ie({width:H.value[o]/P.value*100+"%"})},null,4)]),e("span",lt,r(H.value[o]),1)])),64))])):v("",!0)]),e("p",it,r(a.value.description),1),a.value.ageGroups?.length?(i(),l("div",rt,[t[12]||(t[12]=e("h6",{class:"fw-semibold mb-2"},"Age Groups",-1)),e("div",dt,[(i(!0),l(g,null,f(a.value.ageGroups,o=>(i(),l("span",{key:o,class:"badge bg-light text-dark border"},r(o)+" years ",1))),128))])])):v("",!0),a.value.inclusivityTags?.length?(i(),l("div",ut,[t[13]||(t[13]=e("h6",{class:"fw-semibold mb-2"},"Features",-1)),e("div",ct,[(i(!0),l(g,null,f(a.value.inclusivityTags,o=>(i(),l("span",{key:o,class:"badge bg-primary"},r(J(o)),1))),128))])])):v("",!0),a.value.accessibility?.length?(i(),l("div",mt,[t[15]||(t[15]=e("h6",{class:"fw-semibold mb-2"},"Accessibility",-1)),e("div",vt,[(i(!0),l(g,null,f(a.value.accessibility,o=>(i(),l("span",{key:o,class:"badge bg-success"},[t[14]||(t[14]=e("i",{class:"bi bi-check-circle me-1"},null,-1)),d(r(J(o)),1)]))),128))])])):v("",!0),e("div",bt,[e("button",{onClick:he,class:"btn btn-primary btn-lg",disabled:G.value},[t[16]||(t[16]=e("i",{class:"bi bi-calendar-plus me-2"},null,-1)),d(" "+r(G.value?"Processing...":"Book Program"),1)],8,pt),e("button",{onClick:Z,class:"btn btn-outline-secondary"},[...t[17]||(t[17]=[e("i",{class:"bi bi-chat-dots me-2"},null,-1),d("Add Review ",-1)])])])])]),a.value&&a.value.venue&&a.value.venue.lat&&a.value.venue.lng?(i(),l("div",gt,[t[23]||(t[23]=e("div",{class:"card-header"},[e("h5",{class:"card-title mb-0"},[e("i",{class:"bi bi-map me-2"}),d("Get Directions ")])],-1)),e("div",ft,[e("div",yt,[e("div",ht,[e("div",_t,[e("button",{onClick:re,class:"btn btn-primary",disabled:x.value||!O.value},[x.value?(i(),l("span",xt)):(i(),l("i",kt)),d(" "+r(x.value?"Getting Location...":"From Current Location"),1)],8,wt),e("button",{onClick:ve,class:"btn btn-outline-secondary",disabled:!F.value},[...t[18]||(t[18]=[e("i",{class:"bi bi-x-lg me-2"},null,-1),d("Clear Route ",-1)])],8,Ct)])]),e("div",Lt,[e("div",Mt,[K(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=o=>y.value=o),onInput:de,onFocus:t[1]||(t[1]=o=>w.value=_.value.length>0),placeholder:"Or enter start address...",autocomplete:"off"},null,544),[[ee,y.value]]),e("button",{type:"button",class:"btn btn-outline-secondary",onClick:be,disabled:!y.value},[...t[19]||(t[19]=[e("i",{class:"bi bi-x-lg"},null,-1)])],8,St)]),w.value&&_.value.length>0?(i(),l("div",Et,[(i(!0),l(g,null,f(_.value,o=>(i(),l("div",{key:o.id,class:"p-2 border-bottom suggestion-item",onClick:m=>ce(o),style:{cursor:"pointer"}},[e("div",$t,r(o.place_name),1)],8,Dt))),128))])):v("",!0)])]),k.value?(i(),l("div",Tt,[e("div",It,[e("div",null,[t[20]||(t[20]=e("i",{class:"bi bi-route me-2"},null,-1)),e("strong",null,r(k.value.distance),1),d(" • "+r(k.value.duration),1)]),e("div",Pt,[e("small",qt,r(k.value.mode),1)])])])):v("",!0),e("div",Bt,[e("div",{ref_key:"navigationMapContainer",ref:$,class:"navigation-map-container border rounded",style:{height:"400px",width:"100%"}},null,512),M.value?(i(),l("div",Ft,[...t[21]||(t[21]=[e("div",{class:"text-center"},[e("div",{class:"spinner-border text-primary mb-2",role:"status"},[e("span",{class:"visually-hidden"},"Loading map...")]),e("div",{class:"small text-muted"},"Loading navigation map...")],-1)])])):v("",!0)]),t[22]||(t[22]=e("div",{class:"mt-3"},[e("div",{class:"d-flex align-items-start gap-2"},[e("i",{class:"bi bi-info-circle text-primary mt-1"}),e("div",{class:"small text-muted"},[e("strong",null,"How to use:"),d(' Click "From Current Location" to get directions from where you are, or enter a custom address in the search box. Click anywhere on the map to set a custom start point. ')])])],-1))])])):v("",!0),e("div",Rt,[t[28]||(t[28]=e("div",{class:"card-header"},[e("h5",{class:"card-title mb-0"},[e("i",{class:"bi bi-chat-left-text me-2"}),d("Reviews & Comments ")])],-1)),e("div",Ut,[B.value?(i(),l("div",Nt,[...t[24]||(t[24]=[e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"},"Loading comments...")],-1)])])):h.value.length===0?(i(),l("div",jt,[t[26]||(t[26]=e("i",{class:"bi bi-chat-square-dots display-4 mb-3"},null,-1)),t[27]||(t[27]=e("p",null,"No reviews yet. Be the first to share your experience!",-1)),e("button",{onClick:Z,class:"btn btn-primary"},[...t[25]||(t[25]=[e("i",{class:"bi bi-plus-circle me-2"},null,-1),d("Add First Review ",-1)])])])):(i(),l("div",At,[(i(!0),l(g,null,f(h.value,o=>(i(),l("div",{key:o.id,class:"comment-item border-bottom pb-3 mb-3"},[e("div",zt,[e("div",Gt,[e("div",Vt,r(ye(o.userName)),1),e("div",null,[e("h6",Ht,r(o.userName),1),e("div",Yt,[(i(),l(g,null,f(5,m=>e("i",{key:m,class:E(m<=o.rating?"bi bi-star-fill text-warning":"bi bi-star text-muted")},null,2)),64))])])]),e("small",Ot,r(Q(o.createdAt)),1)]),e("p",Jt,r(o.comment),1)]))),128))]))])])]),e("div",Qt,[a.value.schedule?.length?(i(),l("div",Wt,[t[29]||(t[29]=e("div",{class:"card-header"},[e("h6",{class:"card-title mb-0"},[e("i",{class:"bi bi-calendar-week me-2"}),d("Schedule ")])],-1)),e("div",Zt,[(i(!0),l(g,null,f(a.value.schedule,o=>(i(),l("div",{key:o.day,class:"mb-3"},[e("div",Xt,r(o.day),1),e("div",Kt,r(o.start)+" - "+r(o.end),1),e("div",eo,r(o.frequency),1),o.startDate?(i(),l("div",to," Starts: "+r(Q(o.startDate)),1)):v("",!0)]))),128))])])):v("",!0),a.value.venue?(i(),l("div",oo,[t[31]||(t[31]=e("div",{class:"card-header"},[e("h6",{class:"card-title mb-0"},[e("i",{class:"bi bi-geo-alt me-2"}),d("Venue ")])],-1)),e("div",so,[e("h6",null,r(a.value.venue.name),1),e("p",ao,[d(r(a.value.venue.address),1),t[30]||(t[30]=e("br",null,null,-1)),d(" "+r(a.value.venue.suburb)+", "+r(a.value.venue.postcode),1)])])])):v("",!0),a.value.equipment?(i(),l("div",no,[t[34]||(t[34]=e("div",{class:"card-header"},[e("h6",{class:"card-title mb-0"},[e("i",{class:"bi bi-gear me-2"}),d("Equipment ")])],-1)),e("div",lo,[e("div",io,[t[32]||(t[32]=e("strong",null,"Provided:",-1)),e("span",{class:E(a.value.equipment.provided?"text-success":"text-danger")},r(a.value.equipment.provided?"Yes":"No"),3)]),a.value.equipment.required?.length?(i(),l("div",ro,[t[33]||(t[33]=e("strong",null,"You need to bring:",-1)),e("ul",uo,[(i(!0),l(g,null,f(a.value.equipment.required,o=>(i(),l("li",{key:o},r(o),1))),128))])])):v("",!0)])])):v("",!0),a.value.contact?(i(),l("div",co,[t[37]||(t[37]=e("div",{class:"card-header"},[e("h6",{class:"card-title mb-0"},[e("i",{class:"bi bi-person-lines-fill me-2"}),d("Contact ")])],-1)),e("div",mo,[e("p",vo,[t[35]||(t[35]=e("i",{class:"bi bi-envelope me-2"},null,-1)),e("a",{href:"mailto:"+a.value.contact.email},r(a.value.contact.email),9,bo)]),a.value.contact.phone?(i(),l("p",po,[t[36]||(t[36]=e("i",{class:"bi bi-telephone me-2"},null,-1)),e("a",{href:"tel:"+a.value.contact.phone},r(a.value.contact.phone),9,go)])):v("",!0)])])):v("",!0)])])])):(i(),l("div",Fe,[t[4]||(t[4]=e("i",{class:"bi bi-exclamation-circle display-1 text-muted"},null,-1)),t[5]||(t[5]=e("h3",{class:"mt-3 text-muted"},"Program not found",-1)),t[6]||(t[6]=e("p",{class:"text-muted"},"The program you're looking for doesn't exist or has been removed.",-1)),j(n,{to:{name:"find"},class:"btn btn-primary"},{default:A(()=>[...t[3]||(t[3]=[e("i",{class:"bi bi-search me-2"},null,-1),d("Browse Programs ",-1)])]),_:1})])),e("div",{class:"modal fade",id:"commentModal",tabindex:"-1","aria-labelledby":"commentModalLabel","aria-hidden":"true",onClick:te(U,["self"])},[e("div",fo,[e("div",yo,[e("div",{class:"modal-header"},[t[38]||(t[38]=e("h5",{class:"modal-title",id:"commentModalLabel"},"Add Review",-1)),e("button",{type:"button",class:"btn-close",onClick:U,"aria-label":"Close"})]),e("div",ho,[e("form",{onSubmit:te(X,["prevent"])},[e("div",_o,[t[39]||(t[39]=e("label",{class:"form-label fw-semibold"},"Your Rating *",-1)),e("div",wo,[(i(),l(g,null,f(5,o=>e("button",{key:o,type:"button",onClick:m=>b.value.rating=o,class:E(["btn btn-link p-0 border-0 star-button",o<=b.value.rating?"text-warning":"text-muted"]),title:`Rate ${o} star${o!==1?"s":""}`},[e("i",{class:E(o<=b.value.rating?"bi bi-star-fill":"bi bi-star"),style:{"font-size":"1.5rem"}},null,2)],10,xo)),64))]),t[40]||(t[40]=e("div",{class:"form-text"},"Click stars to rate (1-5 stars)",-1))]),e("div",ko,[t[41]||(t[41]=e("label",{for:"commentText",class:"form-label fw-semibold"},"Your Review *",-1)),K(e("textarea",{id:"commentText","onUpdate:modelValue":t[2]||(t[2]=o=>b.value.comment=o),class:"form-control",rows:"4",placeholder:"Share your experience with this program...",required:""},null,512),[[ee,b.value.comment]]),e("div",Co,r(b.value.comment.length)+"/500 characters",1)])],32)]),e("div",Lo,[e("button",{type:"button",class:"btn btn-secondary",onClick:U},"Cancel"),e("button",{type:"button",onClick:X,class:"btn btn-primary",disabled:!Y.value||L.value},[L.value?(i(),l("span",So)):v("",!0),d(" "+r(L.value?"Submitting...":"Submit Review"),1)],8,Mo)])])])])])}}},qo=qe(Eo,[["__scopeId","data-v-21de8369"]]);export{qo as default};
